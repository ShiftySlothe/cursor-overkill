---
description: 
globs: 
alwaysApply: false
---
# Existing System Analysis Guidelines (T3 Stack)

Before proposing a technical solution, understand the current T3 Stack system.

**Analysis Checklist:**

1.  **Understand PRD Context:** Grasp feature requirements from `docs/product_requirement_docs.md`.
2.  **Review Core Architectural & Technical Documents:**
    *   **`docs/architecture.md`:** System components, relationships, data flow.
    *   **`docs/technical.md`:** Tech stack (Next.js, tRPC, Prisma, TypeScript, Tailwind CSS), patterns, constraints.
        *   Understand auth: `src/server/auth/config.ts`, `src/server/auth/index.ts`.
        *   Understand DB access: `src/server/db.ts`, `prisma/schema.prisma`.
        *   Understand tRPC server setup: `src/server/api/trpc.ts`, `src/server/api/root.ts`.
        *   Understand tRPC client setup: `src/trpc/react.tsx`, `src/trpc/server.ts`, `src/trpc/query-client.ts`.
        *   Understand environment variables: `src/env.js`.
    *   **@directory_structure:** File organization.

3.  **Examine Relevant Code (`src/`):**
    *   **Identify Reusable Code:**
        *   Utilities in `src/lib/` or `src/utils/`.
        *   tRPC routers/procedures in `src/server/api/routers/`.
        *   React components in `src/app/_components/` or `src/components/`.
    *   **Understand Existing Patterns:**
        *   State management in client components.
        *   tRPC procedure structure and context usage.
        *   Prisma query patterns.
        *   Tailwind CSS styling.
    *   **Assess Impact Areas:** Identify files/modules needing modification.

4.  **Data Model Review:**
    *   `prisma/schema.prisma`: Review current schema. Determine new models/modifications.
    *   `src/env.js`: Check `DATABASE_URL` and other relevant env vars.

5.  **Identify Constraints and Dependencies:** Note technical limitations or critical module dependencies.

**Purpose of this Analysis:** Ensure your TDP integrates well, promotes reuse, accurately assesses impact, and makes informed design decisions for the T3 Stack.